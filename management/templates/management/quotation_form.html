{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block title %}{{ form.instance.id|default:"Create a Quotation" }}{% endblock %}

{% block content %}
  <h2>{% if form.instance.id %}Edit Quotation{% else %}Create a Quotation{% endif %}</h2>
  <form method="post" novalidate>
    {% csrf_token %}
    {{ form|crispy }}
    <button type="submit" class="btn btn-primary">
      {% if form.instance.id %}Update Quotation{% else %}Save Quotation{% endif %}
    </button>
  </form>

  {% if form.errors %}
    <div class="errorlist">
        {% for field in form %}
            {% for error in field.errors %}
                <p>{{ error }}</p>
            {% endfor %}
        {% endfor %}
        {% for error in form.non_field_errors %}
            <p>{{ error }}</p>
        {% endfor %}
    </div>
  {% endif %}
{% endblock %}
